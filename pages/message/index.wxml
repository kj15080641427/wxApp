<view class="message">
  <view class="msg-bar">
    <view class="bar-item {{current == 0 ? 'active' : ''}}" data-current='0' bindtap="switchTab">需求消息
      <view class="msg-count" wx:if="{{ messageCount > 0 }}">{{ messageCount }}</view>
    </view>
    <view class="bar-item {{current == 1 ? 'active' : ''}}" data-current="1" bindtap="switchTab">订单消息</view>
    <view class="bar-item {{current == 2 ? 'active' : ''}}" data-current="2" bindtap="switchTab">系统消息</view>
  </view>
  <view class='msg-read-all-view'>
    <view bindtap='getAllread' class='msg-read-all'>全部设为已读</view>
  </view>
  <!-- 需求消息 -->
  <swiper bindchange='swiper' current="{{current}}" style="height:1200rpx;">
    <swiper-item>
      <scroll-view scroll-y style='height:1200rpx'>
        <view wx:if="{{current == 0}}" class="msg-list">
          <view wx:for="{{conversationList}}" wx:key="name" class="list-item" hover-class="list-tap" data-avatar="{{item.avatar}}" data-name="{{ item.nickName }}" data-user="{{item.username}}" bindtap="goChart">
            <view class="avatar">
              <image class="avatar-img" src="{{item.avatar}}" mode="scaleToFill" lazy-load="true" binderror="" bindload=""></image>
              <view wx:if="{{item.unread_msg_count>0}}" class="count">{{item.unread_msg_count}}</view>
            </view>
            <view class="body">
              <view class="name">{{ item.nickName }}</view>
              <view class="info">{{ info }}</view>
            </view>
          </view>
        </view>
      </scroll-view>
    </swiper-item>
    <!-- 订单消息 -->
    <swiper-item >
  <scroll-view wx:if="{{current == 1}}" class="" scroll-y="true" upper-threshold="50" lower-threshold="50" scroll-top="0" enable-back-to-top="true" bindscrolltoupper="" bindscrolltolower="loadData" bindscroll="">
    <view class="list-item" hover-class="list-tap" hover-stop-propagation="false">
      <view class="avatar">
      </view>
      <view class="body">
        <view class="name"></view>
        <view class="info"></view>
      </view>
    </view>
  </scroll-view>
   </swiper-item>
    <!-- 系统消息 -->
    <swiper-item>
      <scroll-view scroll-y style='height:1200rpx'>
        <view wx:if="{{current == 2}}">
          <view wx:key="{{index}}" wx:for="{{[1,2,3]}}" bindtap='getReadone' class='sys-msg-list'>
            系统消息
          </view>
        </view>
      </scroll-view>
    </swiper-item>
  </swiper>
</view>